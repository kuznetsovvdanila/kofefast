<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <title>
            kofefast
        </title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
        <link rel="stylesheet" href="{% static 'css/basket.css' %}">
    </head>
    <body>

        <div class="topMenu flex">
            <div class="logo" style="font-size: 4.5em;">
                <a href="{% url 'index' %}" style="color: #eeeeee;">kofefast</a>
            </div>
            {% if request.user.is_authenticated %}
            <div class="topMenuNotMobile" style="display: flex; justify-content: space-around; align-items: center; width: 200px;">
                <a href="{% url 'basket' %}">
                    <div class="basketImage pointer">

                    </div>
                </a>
                <a href="{% url 'personal_area' %}" style="color: #eeeeee;">
                    <div style="{% if user.profile_picture %} background-image: url({{ user.profile_picture.url }}); filter: none !important; border: 5px solid #eeeeee; border-radius: 40px; height: 70px !important; width: 70px !important; {% else %} background-image: url('../../static/img/anonymous.svg'); {% endif %} background-position: 50% 50%; background-size: cover;" class="defaultUserPhoto pointer">

                    </div>
                </a>
            </div>
            {% else %}
            <div>

            </div>
            {% endif %}
<!--            {% if not request.user.is_authenticated %}-->
<!--                <div class="defaultUserPhoto softBorder pointer">-->
<!--                    <div style="padding: 10px 0 10px 30px; font-size: 2em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">-->
<!--                        <b>Войти</b>-->
<!--                    </div>-->
<!--                </div>-->
<!--            {% else %}-->
<!--                <div class="defaultUserPhotoAuth softBorder pointer">-->
<!--                    <div style="padding: 10px 0 10px 30px; font-size: 2em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">-->
<!--                        <a href="{% url 'personal_area' %}">-->
<!--                            <b>Личный кабинет</b>-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            {% endif %}-->
        </div>

        <hr class="lineMobile">
        {% if not request.user.is_authenticated %}
        {% else %}
            <div class="mainAuth flex">
                <div class="hd">
                    Корзина
                </div>
<!--                <div class="categories flex">-->
<!--                    <div class="provider del active">-->
<!--                        Любая-->
<!--                    </div>-->
<!--                    {% for provider in providers %}-->
<!--                        <div id="{{ provider.id }}" class="provider">-->
<!--                            {{ provider.name }}-->
<!--                        </div>-->
<!--                    {% endfor %}-->
<!--                </div>-->
                <hr class="line">
                <div class="list">
                    <div class="coffee flex active">
                        {% for chosen_item in request.user.chosen_items %}
                            <div id="{{ chosen_item.provider.id }}" class="item show" style="background: linear-gradient(to left, rgba({{ drink.primary_color }}) 60%, transparent); background-image: url('{{ drink.preview.url }}'); background-size: cover; background-position: right 50%">
                                <div class="cntnr flex">
                                    <div class="itemName">
                                        <b><span>{{ chosen_item.name }} - {{ chosen_item.provided }}</span></b>
                                    </div>
                                    <div class="itemDescription">
                                        <span style="background-color: #111111; color: #eeeeee;">{{ chosen_item.description }}</span>
                                    </div>
                                    <div class="itemPrice">
                                        <span><b>{{ chosen_item.price }}$</b></span>
                                    </div>
                                </div>
<!--                                <div class="itemPhoto reallySoftBorder" style="background-image: url('{{ drink.preview.url }}'); -webkit-mask-image: linear-gradient(to left, rgba(0, 0, 0, 1.0), transparent);">-->

<!--                                </div>-->
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="addressMenuMainPageNotMobile flex">
                <div class="arrowMobileNotMobile">
                    <div class="arrowNotMobile pointer">
                        <b>ᐃ</b>
                    </div>
                </div>
                <div class="addressListNotMobile">
                    <div>
                        Выберите адрес:
                    </div>
                    {% if addresses %}
                        {% for adr in addresses %}
                            {% if adr.chosen %}
                                <div style="border: 15px solid #deb887 !important;" class="address flex btw vCenter">
                                    <div>
                                        <span style="background-color: #eeeeee;" class="addressName"><b>{{ adr.city }}, {{ adr.street }} {{ adr.house }}, подъезд {{ adr.entrance }}</b></span>
                                    </div>
                                    <div class="">
                                        <form action="" method="POST" class="inside flex">
                                            <input name="action_type" type="text" value="delete_prefer_address" style="display: none;">
                                            <input name="prefered_adr_id" type="text" value="{{adr.id}}" style="display: none;">
                                            {% csrf_token %}
                                            <input type="submit" value="X" class="chooseAnAddress pointer">
                                        </form>
                                    </div>
                                </div>
                            {% else %}
                                <div class="address flex btw vCenter">
                                    <div>
                                        <span class="addressName"><b>{{ adr.city }}, {{ adr.street }} {{ adr.house }}, подъезд {{ adr.entrance }}</b></span>
                                    </div>
                                    <div class="">
                                        <form action="" method="POST" class="inside flex">
                                            <input name="action_type" type="text" value="prefer_address" style="display: none;">
                                            <input name="prefered_adr_id" type="text" value="{{adr.id}}" style="display: none;">
                                            {% csrf_token %}
                                            <input type="submit" value="✔" class="chooseAnAddress pointer">
                                        </form>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                        <div class="address flex btw vCenter">
                            <div>
                                <span class="addressNameAdd"><b>Добавьте адрес</b></span>
                            </div>
                            <div class="addAnAddress">
                                <b>+</b>
                            </div>
                        </div>
                    {% else %}
                        <div class="address flex btw vCenter">
                            <div>
                                <span class="addressNameAdd"><b>Добавьте адрес</b></span>
                            </div>
                            <div class="addAnAddress">
                                <b>+</b>
                            </div>
                        </div>
                        <div class="emptyAddressField">
                            Пока нет ни одного адреса
                        </div>
                    {% endif %}
                </div>

            </div>

            <div class="addressMenuMainPage flex">
                <div class="arrowMobile">
                    <div class="arrow">
                        <b>ᐃ</b>
                    </div>
                </div>
                <div class="addressList">
                    <div>
                        Выберите адрес:
                    </div>
                    {% if addresses %}
                        {% for adr in addresses %}
                            {% if adr.chosen %}
                                <div style="border: 15px solid #deb887 !important;" class="address flex btw vCenter">
                                    <div>
                                        <span style="background-color: #eeeeee;" class="addressName"><b>{{ adr.city }}, {{ adr.street }} {{ adr.house }}, подъезд {{ adr.entrance }}</b></span>
                                    </div>
                                    <div class="">
                                        <form action="" method="POST" class="inside flex">
                                            <input name="action_type" type="text" value="delete_prefer_address" style="display: none;">
                                            <input name="prefered_adr_id" type="text" value="{{adr.id}}" style="display: none;">
                                            {% csrf_token %}
                                            <input type="submit" value="X" class="chooseAnAddress pointer">
                                        </form>
                                    </div>
                                </div>
                            {% else %}
                                <div class="address flex btw vCenter">
                                    <div>
                                        <span class="addressName"><b>{{ adr.city }}, {{ adr.street }} {{ adr.house }}, подъезд {{ adr.entrance }}</b></span>
                                    </div>
                                    <div class="">
                                        <form action="" method="POST" class="inside flex">
                                            <input name="action_type" type="text" value="prefer_address" style="display: none;">
                                            <input name="prefered_adr_id" type="text" value="{{adr.id}}" style="display: none;">
                                            {% csrf_token %}
                                            <input type="submit" value="✔" class="chooseAnAddress pointer">
                                        </form>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                        <div class="address flex btw vCenter">
                            <div>
                                <span class="addressNameAdd"><b>Добавьте адрес</b></span>
                            </div>
                            <div class="addAnAddress">
                                <b>+</b>
                        </div>
                    </div>
                    {% else %}
                        <div class="address flex btw vCenter">
                            <div>
                                <span class="addressNameAdd"><b>Добавьте адрес</b></span>
                            </div>
                            <div class="addAnAddress">
                                <b>+</b>
                            </div>
                        </div>
                        <div class="emptyAddressField">
                            Пока нет ни одного адреса
                        </div>
                    {% endif %}
                </div>
            </div>
<!--            <div id="map"></div>-->
        {% endif %}
<!--        <div class="bottom">-->
<!--            Designed by somebody, 2021-->
<!--        </div>-->

        <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
        <script src="{% static 'js/main.js' %}"></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script async
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAU8R6Wit9mEiBzIoDmt3m49Hz4XAJ1Og&callback=initMap">
        </script>
    </body>
</html>