<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <title>
            kofefast
        </title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css">
        <link rel="shortcut icon" href="{% static 'img/favicon.png' %}" type="image/png">
        <script type="text/javascript">

        </script>
        <style>
            .topMenuResizable:hover {
                height: 230px;
            }
            input.placeholderRed::-webkit-input-placeholder {
               color: #ea4335;
            }
            {% if email_exists %}
                .registration #id_email::placeholder, .registrationMobile #id_email::placeholder {
                    color: #ea4335;
                }
            {% endif %}

            {% if number_exists %}
                .registration #phone_number::placeholder, .registrationMobile #phone_number::placeholder {
                    color: #ea4335;
                }
            {% endif %}

            {% if weak_password %}
                .registration #id_password1::placeholder, .registrationMobile #id_password1::placeholder {
                    color: #ea4335;
                }
            {% endif %}

            {% if dif_passwords %}
                .registration #id_password2::placeholder, .registrationMobile #id_password2::placeholder {
                    color: #ea4335;
                }
            {% endif %}

            {% if login_error %}
                .authorization #id_email::placeholder, .authorization #id_password1::placeholder, .authorizationMobile #id_email::placeholder, .authorizationMobile #id_password1::placeholder {
                    color: #ea4335;
                }
            {% endif %}
            {% if password_change_error %}
                .authorization #id_email::placeholder, .authorizationMobile #id_email::placeholder {
                    color: #ea4335;
                }
            {% endif %}
        </style>

    </head>
    <script src="//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
    <body>
        <div class="topMenu flex">
            <div class="logo" style="font-size: 4.5em;">
                <a href="{% url 'index' %}" style="color: #eeeeee;">kofefast</a>
            </div>
            {% if request.user.is_authenticated %}

                <div class="addressPart flex">
                    <form action="" method="POST" class="sendIt flex">
                        <input name="action_type" type="text" value="prefer_address" style="display: none;">
                            <select class="pointer" id="" name="prefered_adr_id">
                                <option value="">Приду и заберу</option>
                                {% if addresses %}
                                    {% if chosen_address %}
                                        <option value="{{ chosen_address.id }}" selected="selected" style="overflow: hidden; text-overflow: ellipsis;" value="{{ chosen_address.name }}">{{ chosen_address.name }} ({{ chosen_address.street }} {{ chosen_address.house }})</option>
                                    {% endif %}
                                    {% for adr in addresses %}
                                        {% if not adr in chosen_address_raw %}
                                            <option value="{{ adr.id }}" style="overflow: hidden; text-overflow: ellipsis;" value="{{ adr.name }}">{{ adr.name }} ({{ adr.street }} {{ adr.house }})</option>
                                        {% endif %}
                                    {% endfor %}
                                {% endif %}
                                <option value="addAnAddress">Добавить адрес</option>
                            </select>
                            {% csrf_token %}
                    </form>
                </div>
<!--                <div class="address_which_is_chosen_box flex vCenter pointer">-->
<!--                    {% if addresses %}-->
<!--                        {% if chosen_address %}-->
<!--                            <div style="margin: 0 10px 0 30px;">-->
<!--                                Доставка:-->
<!--                            </div>-->
<!--                            <div class="address_which_is_chosen">-->
<!--                                {{ chosen_address.name }} ({{ chosen_address.street }} {{ chosen_address.house }})-->
<!--                            </div>-->
<!--                        {% else %}-->
<!--                            <div style="font-weight: bold; margin: 0 0 0 30px;">-->
<!--                                Самовывоз-->
<!--                            </div>-->
<!--                        {% endif %}-->
<!--                    {% else %}-->
<!--                        <div style="font-weight: bold;">-->
<!--                            Приду и заберу-->
<!--                        </div>-->
<!--                    {% endif %}-->
<!--                    <div class="arrowDown">-->
<!--                        <div>-->

<!--                        </div>-->
<!--                        <div>-->

<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
                <div class="topMenuResizable">
                    <div class="profilePhotoTopMenu flex clmn" style="{% if user.profile_picture %} background-image: url({{ user.profile_picture.url }}); filter: none !important; {% else %} filter: invert(); transform: filter; background-position: 50% 80%; background-size: 80%; background-repeat: no-repeat; background-image: url('../../static/img/anonymous.svg'); {% endif %}">

                    </div>
                    <div style="font-weight: bold;">
                        {{ user.first_name }}
                    </div>
                    <div style="border-left: 5px solid #deb887; padding: 0 0 0 10px; font-size: 1.5em;">
                        <div>
                            <a href="{% url 'personal_area' %}">
                                Личный кабинет
                            </a>
                        </div>
<!--                        <div class="choose_your_address pointer">-->
<!--                            Куда доставлять?-->
<!--                        </div>-->
                        <div class="tg">
                            <a href="https://t.me/kofefast_bot" target="_blank">
                                Написать в телегу
                            </a>
                        </div>
                        <div class="chng_psswrd">
                            <a href="{% url 'change_password' %}">
                                Сменить пароль
                            </a>
                        </div>
                        <div>
                            <a href="{% url 'logout' %}">
                                Выйти
                            </a>
                        </div>
                    </div>
                </div>

            {% else %}
            <div>

            </div>
            {% endif %}
<!--            {% if not request.user.is_authenticated %}-->
<!--                <div class="defaultUserPhoto softBorder pointer">-->
<!--                    <div style="padding: 10px 0 10px 30px; font-size: 2em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">-->
<!--                        <b>Войти</b>-->
<!--                    </div>-->
<!--                </div>-->
<!--            {% else %}-->
<!--                <div class="defaultUserPhotoAuth softBorder pointer">-->
<!--                    <div style="padding: 10px 0 10px 30px; font-size: 2em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">-->
<!--                        <a href="{% url 'personal_area' %}">-->
<!--                            <b>Личный кабинет</b>-->
<!--                        </a>-->
<!--                    </div>-->
<!--                </div>-->
<!--            {% endif %}-->
        </div>
        <hr class="lineMobile">
        {% if not request.user.is_authenticated %}
            <div class="main flex">
                <div class="description {% if registration_error %}active{% endif %}">
                    вкусный кофе ещё никогда не был так близко
                </div>
                <input type="submit" class="registrationButton {% if not registration_error %}active{% endif %} pointer" value="Хочу кофе">

                    <div class="information {% if not registration_error %} {% if not login_error %} {% if not auth_open %}active{% endif %}{% endif %} {% endif %}">
                        Мы заботимся о наших клиентах и не хотим, чтобы вы получили свой заказ остывшим, поэтому ищем кофейни в радиусе <span style="color: #deb887;">1 километра</span> от вас, что также позволяет доставлять заказ всего за <span style="color: #deb887;">20-25 минут</span>
                    </div>

                    <div class="registration {% if registration_error %}active{% endif %}">
                        <div class="flex btw">
                            <span class="frm">Регистрация</span>
                            <span class="closeIt" style=""><b>x</b></span>
                        </div>
                        <div class="">
                            <form action="" method="POST" class="flex">
                                <input name="action_type" type="text" value="registr" style="display: none;">
                                {% if not email_exists %}
                                    <input type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="Почта">
                                {% else %}
                                    <input type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="Почта уже существует">
                                {% endif %}
                                <span style="display: flex; flex-wrap: wrap; justify-content: space-between;">
                                    <input type="text" name="first_name" autocomplete="none" required="" id="id_first_name" placeholder="Имя" style="max-width: 45%;">
                                    <input type="text" name="last_name" autocomplete="none" required="" id="id_last_name" placeholder="Фамилия" style="max-width: 45%;">
                                </span>
                                {% if not number_exists %}
                                    <input type="text" name="phone_number" autocomplete="none" required="" id="phone_number" placeholder="Телефон">
                                {% else %}
                                    <input type="text" name="phone_number" autocomplete="none" required="" id="phone_number" placeholder="Телефон уже существует">
                                {% endif %}
                                {% if not weak_password %}
                                    <input type="password" name="password1" autocomplete="new-password" required="" id="id_password1" placeholder="Пароль">
                                {% else %}
                                    <input type="password" name="password1" autocomplete="new-password" required="" id="id_password1" placeholder="Есть 8 символов? А цифры?">
                                {% endif %}
                                {% if not dif_passwords %}
                                    <input type="password" name="password2" autocomplete="new-password" required="" id="id_password2" placeholder="Подтверждение пароля">
                                {% else %}
                                    <input type="password" name="password2" autocomplete="new-password" required="" id="id_password2" placeholder="Пароли не совпадают">
                                {% endif %}
                                {% csrf_token %}
                                <input type="submit" value="Зарегистрироваться" class="pointer">
                                <div class="openAuth pointer" style="font-size: 1.5em; margin: 15px;">
                                    Уже с нами? Войти
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="authorization {% if login_error %}active{% else %}{% if auth_open %}active {% if password_change_error %}move{% endif %}{% endif %}{% endif %}">
                        <div class="">
                            <div class="flex btw">
                                <span class="frm">Вход</span>
                                <span class="closeIt" style=""><b>x</b></span>
                            </div>
                            <form action="" method="POST" class="flex">
                                <input class="type_changer" name="action_type" type="text" value="{% if not password_change_error %}authen{% else %}password_change{% endif %}" style="display: none;">
                                <input class="emailAuth rltv" type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="{% if not login_error %}{% if password_change_error %}Такой почты не существует{% else %}Почта{% endif %}{% else %}Неправильная почта или...{% endif %}">
                                <input class="passwordAuth {% if password_change_error %}active{% endif %} rltv" type="password" name="password1" autocomplete="new-password" {% if not password_change_error %}required=""{% endif %} id="id_password1" aria-autocomplete="list" placeholder="Пароль">
                                {% csrf_token %}
                                <input class="submitAuth {% if password_change_error %}active{% endif %} rltv pointer" type="submit" value="Войти">
                                <div class="password_change {% if password_change_error %}hidden{% endif %} pointer rltv" style="font-size: 1.5em; margin: 15px;">
                                    Забыли пароль?
                                </div>
                                <div class="password_change_return {% if not password_change_error %}hidden{% endif %} pointer rltv" style="font-size: 1.5em; margin: 15px;">
                                    Вернуться
                                </div>
                            </form>
                        </div>
                    </div>
            </div>
            <div class="mainMobile flex">
                <div class="descriptionMobile">
                    ваш любимый кофе ещё никогда не был так близко
                </div>
                <div class="registrationButtonMobile active">
                    <span>
                        Ещё не с нами? Жми <span style="background-color: #deb887; color: #111111;"><b>сюда</b></span>, давай мы это исправим
                    </span>
                </div>
                <div class="rightSideMobile flex">
                    <div class="informationMobile {% if not registration_error %} {% if not login_error %}{% if not password_change_error %}active{% endif %}{% endif %} {% endif %}">
                        Мы заботимся о наших клиентах и не хотим, чтобы вы получили свой заказ остывшим, поэтому ищем кофейни в радиусе <span style="color: #deb887;">1 километра</span> от вас, что также позволяет доставлять заказ всего за <span style="color: #deb887;">20-25 минут</span>
                    </div>

                    <div class="registrationMobile {% if registration_error %}active{% endif %}">
                        <div class="flex btw">
                            <span class="frm">Регистрация</span>
                            <span class="closeIt" style=""><b>x</b></span>
                        </div>
                        <div class="">
                            <form action="" method="POST" class="flex">
                                <input name="action_type" type="text" value="registr" style="display: none;">
                                {% if not email_exists %}
                                    <input type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="Почта">
                                {% else %}
                                    <input type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="Почта уже существует">
                                {% endif %}
                                <input type="text" name="first_name" autocomplete="none" required="" id="id_first_name" placeholder="Имя">
                                <input type="text" name="last_name" autocomplete="none" required="" id="id_last_name" placeholder="Фамилия">
                                {% if not number_exists %}
                                    <input type="text" name="phone_number" autocomplete="none" required="" id="phone_number" placeholder="Телефон">
                                {% else %}
                                    <input type="text" name="phone_number" autocomplete="none" required="" id="phone_number" placeholder="Телефон уже существует">
                                {% endif %}
                                {% if not weak_password %}
                                    <input type="password" name="password1" autocomplete="new-password" required="" id="id_password1" placeholder="Пароль">
                                {% else %}
                                    <input type="password" name="password1" autocomplete="new-password" required="" id="id_password1" placeholder="Есть 8 символов? А цифры?">
                                {% endif %}
                                {% if not dif_passwords %}
                                    <input type="password" name="password2" autocomplete="new-password" required="" id="id_password2" placeholder="Подтверждение пароля">
                                {% else %}
                                    <input type="password" name="password2" autocomplete="new-password" required="" id="id_password2" placeholder="Пароли не совпадают">
                                {% endif %}
                                {% csrf_token %}
                                <input type="submit" value="Зарегистрироваться" class="pointer">
                                <div class="openAuthMobile pointer" style="font-size: 5em; margin: 0px 50px 50px 50px;">
                                    Уже с нами? Войти
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="authorizationMobile {% if login_error %}active{% else %}{% if password_change_error %}active{% endif %}{% endif %}">
                        <div class="flex btw">
                            <span class="frm">Вход</span>
                            <span class="closeIt" style=""><b>x</b></span>
                        </div>
                        <div class="">
                            <form action="" method="POST" class="flex">
                                <input name="action_type" type="text" value="authen" style="display: none;">
                                <input class="type_changer" name="action_type" type="text" value="{% if not password_change_error %}authen{% else %}password_change{% endif %}" style="display: none;">
                                <input class="emailAuth rltv" type="text" name="email" maxlength="150" autocapitalize="none" autocomplete="email" autofocus="" required="" id="id_email" placeholder="{% if not login_error %}{% if password_change_error %}Такой почты не существует{% else %}Почта{% endif %}{% else %}Неправильная почта или...{% endif %}">
                                <input class="passwordAuth {% if password_change_error %}active{% endif %} rltv" type="password" name="password1" autocomplete="new-password" {% if not password_change_error %}required=""{% endif %} id="id_password1" aria-autocomplete="list" placeholder="Пароль">
                                {% csrf_token %}
                                <input class="submitAuth {% if password_change_error %}active{% endif %} rltv pointer" type="submit" value="Войти">
                                <div class="password_change {% if password_change_error %}hidden{% endif %} pointer rltv" style="font-size: 5em; margin: 0px 50px 50px 50px;">
                                    Забыли пароль?
                                </div>
                                <div class="password_change_return {% if not password_change_error %}hidden{% endif %} pointer rltv" style="font-size: 5em; margin: 0px 50px 50px 50px;">
                                    Вернуться
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        {% else %}
            <div class="mainAuth flex">
                {% if not chosen_items %}
                    <div class="hd">
                        {% if coffeeshops %}
                            Выберите кофейню:
                        {% else %}
                            Нет доступных кофеен
                        {% endif %}
                    </div>
                    {% if coffeeshops %}
                        <div class="categories flex">
                            <div class="provider del active">
                                Любая
                            </div>
                            {% for provider in providers %}
                                <div id="{{ provider.id }}" class="provider flex vCenter btw">
                                    <div>
                                        {{ provider.name }}
                                    </div>
                                    <div class="mapPointImage">

                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    {% endif %}
                {% else %}
                    <div style="flex-wrap: wrap;" class="hd flex clmn">
                        <div>
                            Выбранная кофейня:
                        </div>
                        <div class="chs flex vCenter btw">
                            <div style="margin: 0 35px 0 0; font-size: 1.1em;">
                                {{ prvdr }}
                            </div>
                            <div class="cancel" style="">
                                <form action="" method="POST" class="flex">
                                    <input name="action_type" type="text" value="clear_the_basket" style="display: none;">
                                    {% csrf_token %}
                                    <input class="mobileInput" type="submit" value="x" class="pointer">
                                    <input class="notMobileInput" type="submit" value="убрать" class="pointer">
                                </form>
                            </div>
                        </div>
                    </div>
                    <hr class="line">
                    <div style="width: 85%; margin-bottom: 0;">
                        <form method="POST" class="makeAnOrder flex clmn" id="orderMaking">
                            <input name="action_type" type="text" value="makeAnOrder" style="display: none;">
                            <div class="flex btw" style="flex-wrap: wrap;">
                                <div class="flex clmn">
                                    <div class="basketHd">
                                        Что у вас в корзине:
                                    </div>
                                    <div class="basketList">
                                        {% for item in chosen_items %}
                                            <div>
                                                {{ item.good.price }}₽ -  {{ item.good.name }}, {{ item.count }} шт.
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="prmtrs">
                                    {% if chosen_address %}
                                        <div class="basketHd">
                                            Адрес доставки:
                                        </div>
                                        <div class="basketAddress">
                                            {{ chosen_address.name }} ({{ chosen_address.street }}, {{ chosen_address.house }}, к{{ chosen_address.building }})
                                        </div>
                                        <div style="max-width: 400px; margin: 10px 0 0 0; font-size: 0.7em;">
                                        </div>
                                    {% else %}
                                        <div class="basketHd">
                                            Самовывоз
                                        </div>
                                    {% endif %}
                                </div>
                                <div class="time flex clmn">
                                    <div class="basketHd">
                                        Получить:
                                    </div>
                                    <div class="flex clmn rdo">
                                        <span class="flex vCenter"><input class="pointer ch" type="radio" id="fast" name="time" value="0" checked>Как можно скорее</span>
                                        <span class="flex vCenter"><input class="pointer" type="radio" id="to_time" name="time" value="1">В&nbsp;<input style="margin: 0;" id="timeInput" type="text" value="" name="time_requested"></span>
                                    </div>
                                </div>
                            </div>
                            <hr style="width: 100%; margin-top: 30px;" class="line">
                            <textarea name="comment" placeholder="Комментарий к заказу"></textarea>
                            <hr style="width: 100%;" class="line">
                            <div style="margin: 0 0 10px 0;" class="vCenter flex btw">
                                <div class="basketHd sum">
                                    Итого: {{ basket.all_cost }}₽
                                </div>
                                <div style="">
                                    {% csrf_token %}
                                    <input id="takeAnOrder" class="makeAnOrderButton pointer" type="submit" value="Заказать">
                                </div>
                            </div>
                        </form>
                    </div>
                {% endif %}
                <hr class="line">
                <div class="list">
                    {% if coffeeshops %}
                    <div class="coffee flex active">
                        {% if drinks %}
                            <div class="hd" style="width: 100%; text-align: center;">
                                Напитки
                            </div>
                        {% endif %}
                        {% for drink in drinks %}
                            {% if drink.provided in coffeeshops %}
                                <div id="{{ drink.provided.id }}" class="btw item show" style="background: linear-gradient(to left, rgba({{ drink.primary_color }}) 60%, transparent); background-image: url('{{ drink.preview.url }}'); background-size: cover; background-position: right 50%">
                                    <div class="cntnr flex">
                                        <div class="itemName">
                                            <b><span>{{ drink.name }} - {{ drink.provided }}</span></b>
                                        </div>
                                        <div class="itemDescription">
                                            <span style="background-color: #111111; color: #eeeeee;">{{ drink.description }}
<!--                                                есть в {% for volume in drink.volumes %}{{ volume }} {% endfor %}-->
<!--                                                вместе с {% for addon in drink.addons %}{{ addon }} {% endfor %}-->
                                            </span>
                                        </div>
                                        <div class="itemPrice">
                                            <span><b>{{ drink.price }}₽</b></span>
                                        </div>
                                    </div>
    <!--                                <div class="itemPhoto reallySoftBorder" style="background-image: url('{{ drink.preview.url }}'); -webkit-mask-image: linear-gradient(to left, rgba(0, 0, 0, 1.0), transparent);">-->

    <!--                                </div>-->
                                    <div class="addToBasket flex clmn">
                                        <div>
                                            <form action="" method="POST">
                                                <input name="action_type" type="text" value="add {{ drink.id }}" style="display: none;">
                                                <input class="user_y" type="text" name="user_y" value="" style="display: none;">
                                                {% csrf_token %}
                                                <input type="submit" value="+" class="pointer">
                                            </form>
                                        </div>
                                        <div class="counter" style="">
                                            {{ drink.count }}
                                        </div>
                                        <div>
                                            <form action="" method="POST">
                                                <input name="action_type" type="text" value="reduce {{ drink.id }}" style="display: none;">
                                                <input class="user_y" type="text" name="user_y" value="" style="display: none;">
                                                {% csrf_token %}
                                                <input type="submit" value="-" class="pointer">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="food flex active">
                        {% if food %}
                            <div class="hd" style="width: 100%; text-align: center;">
                                Еда
                            </div>
                        {% endif %}
                        {% for dish in food %}
                            {% if dish.provided in coffeeshops %}
                                <div id="{{ dish.provided.id }}" class="item show" style="background: linear-gradient(to left, rgba({{ dish.primary_color }}) 60%, transparent); background-image: url('{{ dish.preview.url }}'); background-size: cover; background-position: right 50%">
                                    <div class="cntnr flex">
                                        <div class="itemName">
                                            <b><span>{{ dish.name }} - {{ dish.provided }}</span></b>
                                        </div>
                                        <div class="itemDescription">
                                            <span style="background-color: #111111; color: #eeeeee;">{{ dish.description }}</span>
                                        </div>
                                        <div class="itemPrice">
                                            <span><b>{{ dish.price }}₽</b></span>
                                        </div>
                                    </div>
    <!--                                <div class="itemPhoto reallySoftBorder" style="background-image: url('{{ drink.preview.url }}'); -webkit-mask-image: linear-gradient(to left, rgba(0, 0, 0, 1.0), transparent);">-->

    <!--                                </div>-->
                                    <div class="addToBasket flex reallySoftBorder clmn">
                                        <div>
                                            <form action="" method="POST">
                                                <input name="action_type" type="text" value="add {{ dish.id }}" style="display: none;">
                                                <input class="user_y" type="text" name="user_y" value="" style="display: none;">
                                                {% csrf_token %}
                                                <input type="submit" value="+" class="pointer">
                                            </form>
                                        </div>
                                        <div class="counter" style="">
                                            {{ dish.count }}
                                        </div>
                                        <div>
                                            <form action="" method="POST">
                                                <input name="action_type" type="text" value="reduce {{ dish.id }}" style="display: none;">
                                                <input class="user_y" type="text" name="user_y" value="" style="display: none;">
                                                {% csrf_token %}
                                                <input type="submit" value="-" class="pointer">
                                            </form>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                    {% else %}
                        <div class="emptyList" style="text-align: left;">
                            <p>В радиусе 1 км от Вас нет ни одной кофейни. Скорее всего, нас пока нет в этом районе.</p> <p>Проверьте выбранный Вами адрес</p>
                        </div>
                    {% endif %}
                </div>
            </div>

            <div class="bottom flex clmn vCenter">
                kofefast, 2021
            </div>


            <div class="addressMenuMainPage flex">
                <div class="arrowMobile flex">
                    <div class="arrow">
                        <b>ᐃ</b>
                    </div>
                </div>
                <div class="addressList vCenter">
                    <div>
                        <a href="{% url 'personal_area' %}">В личный кабинет</a>
                    </div>
                    <div>
                        <a href="https://t.me/kofefast_bot" target="_blank">Техподдержка</a>
                    </div>
                    <hr style="width: 90%; margin: 0 10% 0 0;" class="lineMobile">
                    <div>
                        {% if not chosen_items %}
                            Куда доставлять?
                        {% else %}
                            Доступные варианты доставки:
                        {% endif %}
                    </div>
                    {% if addresses %}
                        {% if chosen_address %}
                            <div class="itemAddress flex btw vCenter">
                                <div style="font-size: 3.5em; min-width: 95%; border-left: 15px solid #deb887 !important; padding: 0 0 0 20px;">
                                    {{ chosen_address.name }} ({{ chosen_address.street }} {{ chosen_address.house }})
                                </div>
                                <div class="rltv">
                                    <form action="" method="POST" class="inside flex">
                                        <input name="action_type" type="text" value="prefer_address" style="display: none;">
                                        <input name="prefered_adr_id" type="text" value="{{ chosen_address.id }}" style="display: none;">
                                        {% csrf_token %}
                                        <input type="submit" value="Выбрать" class="chooseAnAddressMobile pointer">
                                    </form>
                                </div>
                            </div>
                        {% endif %}
                        {% for adr in addresses %}
                            {% if not adr in chosen_address_raw %}
                                <div class="itemAddress flex btw vCenter">
                                    <div style="font-size: 3.5em; min-width: 95%; padding: 0 0 0 35px;">
                                        {{ adr.name }} ({{ adr.street }} {{ adr.house }})
                                    </div>
                                    <div class="rltv">
                                        <form action="" method="POST" class="inside flex">
                                            <input name="action_type" type="text" value="prefer_address" style="display: none;">
                                            <input name="prefered_adr_id" type="text" value="{{adr.id}}" style="display: none;">
                                            {% csrf_token %}
                                            <input type="submit" value="Выбрать" class="chooseAnAddressMobile pointer">
                                        </form>
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                        <div class="itemAddress flex btw vCenter">
                            <div style="{% if chosen_address %}font-size: 3.5em; min-width: 95%; padding: 0 0 0 35px;{% else %}font-size: 3.5em; min-width: 95%; border-left: 15px solid #deb887; padding: 0 0 0 20px;{% endif %}">
                                Приду и заберу
                            </div>
                            <div class="rltv">
                                <form action="" method="POST" class="inside flex">
                                    <input name="action_type" type="text" value="delete_prefer_address" style="display: none;">
                                    <input name="prefered_adr_id" type="text" value="" style="display: none;">
                                    {% csrf_token %}
                                    <input type="submit" value="" class="chooseAnAddressMobile pointer">
                                </form>
                            </div>
                        </div>
                            <div>
                                <a href="{% url 'personal_area' %}">
                                    Добавить адрес
                                </a>
                            </div>
                    {% else %}
                        <div style="font-size: 3.5em; border-left: 15px solid #deb887; padding: 0 0 0 20px;" class="itemAddressName">
                            Пока нет ни одного адреса
                        </div>
                        <div>
                            <a href="{% url 'personal_area' %}">
                                Добавить адрес
                            </a>
                        </div>

                    {% endif %}
                </div>
            </div>
            <div class="choose_your_address_menu_background">

            </div>
            <div class="choose_your_address_menu hidden">

            </div>
<!--            <div class="scrollUp">-->
<!--                <span></span>-->
<!--                <span></span>-->
<!--            </div>-->

<!--            <div id="map"></div>-->
        {% endif %}
        <script>
            {% if request.user.is_authenticated %}
                window.scrollTo(0, {{ user.y }});
            {% endif %}
            {% if password_change_error %}
                document.getElementsByClassName('submitAuth')[0].value = 'Отправить письмо';
                document.getElementsByClassName('submitAuth')[1].value = 'Отправить письмо';
            {% endif %}

        </script>
        <script src="https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://snipp.ru/cdn/maskedinput/jquery.maskedinput.min.js"></script>
        <script>
            $('#timeInput').mask('99.99', {placeholder: '00.00'});
        </script>


        <div class="mapForProvider">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2692.396739189686!2d37.70401737743941!3d55.64590975658826!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNTXCsDM4JzQ1LjMiTiAzN8KwNDInMTQuNSJF!5e1!3m2!1sru!2sru!4v1618988358075!5m2!1sru!2sru" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy">
                                                                                                55.645909, 37.704017
            </iframe>
        </div>
        <!--        <div class="bottom">-->
<!--            Designed by somebody, 2021-->
<!--        </div>-->

        <script src="{% static 'js/jquery-3.5.1.min.js' %}"></script>
        <script src="{% static 'js/main.js' %}"></script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
        <script src="https://api-maps.yandex.ru/2.1/?apikey=37a70fdb-72f1-4d85-a872-a1be173b3791&lang=ru_RU" type="text/javascript"></script>
    </body>
</html>